<h1><%= @user.email %>'s Profile</h1>

<h2>Events Created</h2>
<% if @created_events.any? %>
  <ul>
    <% @created_events.each do |event| %>
      <li>
        <%= link_to event.title, event_path(event) %> — <%= event.date.strftime("%B %d, %Y") %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No events created.</p>
<% end %>

<hr>

<h2>Events Attending</h2>

<% future_events = @attended_events.select { |event| event.date >= Time.current } %>
<% past_events = @attended_events.select { |event| event.date < Time.current } %>

<h3>Upcoming Events</h3>
<% if future_events.any? %>
  <ul>
    <% future_events.each do |event| %>
      <li>
        <%= link_to event.title, event_path(event) %> — <%= event.date.strftime("%B %d, %Y") %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No upcoming events.</p>
<% end %>

<h3>Past Events</h3>
<% if past_events.any? %>
  <ul>
    <% past_events.each do |event| %>
      <li>
        <%= link_to event.title, event_path(event) %> — <%= event.date.strftime("%B %d, %Y") %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No past events.</p>
<% end %>

